@model EticaretApp.Models.Product
@{
    ViewData["Title"] = "Ürün Detayı";
}

<h2 class="mb-4">Ürün Detayı</h2>

<div class="row">
    <div class="col-md-6">
        @if (!string.IsNullOrEmpty(Model.ImageUrl))
        {
            <img src="@Model.ImageUrl" class="img-fluid rounded" alt="@Model.Name">
        }
        else
        {
            <div class="bg-secondary d-flex align-items-center justify-content-center rounded" style="height: 400px;">
                <span class="text-white">Resim Yok</span>
            </div>
        }
    </div>
    <div class="col-md-6">
        <h3>@Model.Name</h3>
        <p><strong>Kategori:</strong> @Model.Category?.Name</p>
        <p><strong>Fiyat:</strong> <span class="text-primary fs-4">@Model.Price.ToString("C")</span></p>
        @if (!string.IsNullOrEmpty(Model.Size))
        {
            <p><strong>Beden:</strong> @Model.Size</p>
        }
        <p><strong>Stok:</strong> @Model.Stock adet</p>
        <p><strong>Açıklama:</strong></p>
        <p>@Model.Description</p>
        <p><strong>Oluşturulma Tarihi:</strong> @Model.CreatedDate.ToString("dd.MM.yyyy HH:mm")</p>
        
        @if (!string.IsNullOrEmpty(Model.ImageUrl))
        {
            <p><strong>Resim URL:</strong> <a href="@Model.ImageUrl" target="_blank">@Model.ImageUrl</a></p>
        }

        <div class="mt-4">
            <a asp-action="EditProduct" asp-route-id="@Model.Id" class="btn btn-warning">Düzenle</a>
            <a asp-action="Products" class="btn btn-secondary">Geri Dön</a>
        </div>
    </div>
</div>

@if (Model.Reviews != null && Model.Reviews.Any())
{
    <hr class="my-5">
    <h4>Yorumlar (@Model.Reviews.Count)</h4>
    <div class="table-responsive">
        <table class="table table-bordered">
            <thead>
                <tr>
                    <th>Kullanıcı</th>
                    <th>Puan</th>
                    <th>Yorum</th>
                    <th>Tarih</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var review in Model.Reviews)
                {
                    <tr>
                        <td>@review.UserId</td>
                        <td>
                            @for (int i = 0; i < review.Rating; i++)
                            {
                                <span class="text-warning">★</span>
                            }
                            (@review.Rating/5)
                        </td>
                        <td>@review.Comment</td>
                        <td>@review.CreatedDate.ToString("dd.MM.yyyy HH:mm")</td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
}









































